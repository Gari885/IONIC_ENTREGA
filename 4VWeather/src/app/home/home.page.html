<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start" class="logo-container">
       <div class="logo" (click)="loadCurrentLocationWeather()" style="cursor: pointer;">
          <ion-icon name="cloudy-night-outline"></ion-icon>
          <span>4VWeather</span>
       </div>
    </ion-buttons>
    
    <ion-buttons slot="end">
       <div class="current-city" *ngIf="cityName">
            <ion-icon name="location-outline"></ion-icon>
            <span>{{ cityName }}</span>
       </div>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="main-container">
    
    <app-search-bar (search)="onSearch($event)"></app-search-bar>

    <div *ngIf="loading" class="loading-container">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Cargando pronóstico...</p>
    </div>

    <div *ngIf="error" class="error-container">
      <p>{{ error }}</p>
      <ion-button (click)="loadCurrentLocationWeather()" fill="outline">Intentar de nuevo</ion-button>
    </div>

    <div *ngIf="!loading && !error && currentWeather">
      
      <app-weather-card [weather]="currentWeather"></app-weather-card>

      <div class="section-title">
        <h3>Próximas 24 Horas / Hoy</h3>
      </div>
      <app-hourly-forecast [forecast]="hourlyForecast"></app-hourly-forecast>

      <div class="section-title">
        <h3>Próximos 4 Días</h3>
      </div>
      <app-daily-forecast [forecast]="forecast"></app-daily-forecast>

    </div>
  </div>
</ion-content>
